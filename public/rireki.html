<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>履歴</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* 独自のスタイルを記述 */
        .history-item {
            width: 90%;
            margin: 10px 0;
            padding: 0; /* パディングを削除 */
            background-color: #fff; /* 背景色を白に設定 */
        }

        .history-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: bold;
            font-size: 14px;
            margin-bottom: 5px;
        }

        .bar-container {
            background-color: #f0f0f0;
            border-radius: 5px;
            height: 10px;
        }

        .bar {
            background-color: #4caf50;
            height: 100%;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="login">スマホ「Banner」</div>
        
        <!-- 履歴の表示 -->
        <div id="history-list">
            <!-- 仮の履歴データがJavaScriptで挿入される -->
        </div>

        <!-- ホームボタン -->
        <div class="home-button">
            <img id="home-btn" src="home_button.png" alt="ホーム" style="cursor: pointer; width: 50px; height: 50px;">
        </div>
    </div>

    <script>
        // 仮のデータ
        const historyData = [
            { tagName: "タグA", time: 30 },
            { tagName: "タグB", time: 45 },
            { tagName: "タグC", time: 15 },
            { tagName: "タグD", time: 60 },
            { tagName: "タグE", time: 25 }
        ];

        // 履歴リストを表示する関数
        function displayHistory(data) {
            const historyList = document.getElementById('history-list');
            historyList.innerHTML = '';

            // 各項目をループで表示
            data.forEach(item => {
                const div = document.createElement('div');
                div.className = 'history-item';

                const header = document.createElement('div');
                header.className = 'history-header';

                const tagName = document.createElement('span');
                tagName.textContent = item.tagName;

                const time = document.createElement('span');
                time.textContent = `${item.time} 分`;

                header.appendChild(tagName);
                header.appendChild(time);

                // 棒グラフ
                const barContainer = document.createElement('div');
                barContainer.className = 'bar-container';
                const bar = document.createElement('div');
                bar.className = 'bar';
                bar.style.width = `${item.time}%`; // 時間を棒の長さに変換
                barContainer.appendChild(bar);

                // 各要素を親divに追加
                div.appendChild(header);
                div.appendChild(barContainer);
                historyList.appendChild(div);
            });
        }

        // 履歴データをローカルストレージから取得する場合の例
        /*
        function fetchHistoryDataFromLocalStorage() {
            const data = localStorage.getItem('ここにデータベース名'); // 履歴データを取得
            if (data) {
                return JSON.parse(data); // JSON形式でパースして返す
            }
            return []; // データがない場合は空の配列を返す
        }

        // ローカルストレージからデータを取得して表示
        const localStorageHistoryData = fetchHistoryDataFromLocalStorage();
        displayHistory(localStorageHistoryData);
        */

        // 履歴データをAPIデータベースから取得する場合の例
        /*
        async function fetchHistoryData() {
            // データベースから履歴データを取得する処理
            const response = await fetch('ここにAPIのURLを入力'); // 例：APIエンドポイントを指定
            const data = await response.json(); // JSON形式でデータを取得
            displayHistory(data); // 取得したデータを表示
        }

        // データベースからデータを取得して表示
        fetchHistoryData();
        */

        // 仮データを表示・データベースまたはローカルストレージからの取得の場合は消す
        displayHistory(historyData);

        // ホームボタンのイベント
        document.getElementById('home-btn').addEventListener('click', function () {
            window.location.href = 'index.html';
        });
    </script>
</body>
</html>

